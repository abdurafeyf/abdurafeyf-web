---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../config";
---

<header>
  <div class="header-section">
    <div class="header-frame">
      <h1>{SITE_TITLE}</h1>
      <h2>{SITE_DESCRIPTION}</h2>
    </div>
    <div class="header-frame">
      <div class="profile-container">
        <div class="profile-pic"></div>
        <button id="music-toggle" class="music-btn">â–¶</button>
        <div class="hover-player" id="spotify-container">
          <iframe
            src="https://open.spotify.com/embed/track/0VBaLsidGZsxYPH0AzUe4t?utm_source=generator&theme=0"
            width="300"
            height="80"
            frameborder="0"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
            loading="lazy"></iframe>
        </div>
      </div>
    </div>
  </div>
</header>

<nav>
  <HeaderLink href="/">home</HeaderLink>
  <HeaderLink href="/posts">posts</HeaderLink>
</nav>

<style>
  .profile-container {
    position: relative;
    display: inline-block;
  }
  .profile-pic {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: url("/public/standing-profile.jpg") center/cover no-repeat;
  }
  .music-btn {
    position: absolute;
    bottom: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 50%;
    background: #1db954;
    color: white;
    font-size: 18px;
    cursor: pointer;
  }
  .hover-player {
    margin-top: 10px;
    display: none;
  }
  .hover-player.show {
    display: block;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("music-toggle");
    const player = document.getElementById("spotify-container");
    btn.addEventListener("click", () => {
      player.classList.toggle("show");
    });
  });
</script>
